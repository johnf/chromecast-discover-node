{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///index.js","webpack:///webpack/bootstrap 71d00f4d2f4c56e9c574","webpack:///external \"debug\"","webpack:///external \"events\"","webpack:///external \"mdns-js\"","webpack:///./src/index.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_2__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","length","descriptor","key","protoProps","staticProps","_mdnsJs","_mdnsJs2","_events","_events2","_debug","_debug2","debug","MAPPINGS","id","ve","md","ic","fn","st","rs","ChromecastDiscover","_EventEmitter","_this","getPrototypeOf","ready","mdnsType","tcp","browser","createBrowser","on","data","type","protocol","txt","device","host","addresses","port","fullname","items","forEach","item","match","emit","discover","setTimeout","query","chromecastDiscover"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,EAAAG,QAAA,SAAAA,QAAA,UAAAA,QAAA,YACA,kBAAAC,gBAAAC,IACAD,QAAA,4BAAAJ,GACA,gBAAAC,SACAA,QAAA,uBAAAD,EAAAG,QAAA,SAAAA,QAAA,UAAAA,QAAA,YAEAJ,EAAA,uBAAAC,EAAAD,EAAA,MAAAA,EAAA,OAAAA,EAAA,aACCO,KAAA,SAAAC,EAAAC,EAAAC,GACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAX,OAGA,IAAAC,GAAAW,EAAAD,IACAE,EAAAF,EACAG,GAAA,EACAd,WAUA,OANAS,GAAAE,GAAAI,KAAAd,EAAAD,QAAAC,IAAAD,QAAAU,GAGAT,EAAAa,GAAA,EAGAb,EAAAD,QAvBA,GAAAY,KA+DA,OAnCAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAG,EAAA,SAAAK,GAA2C,MAAAA,IAG3CR,EAAAS,EAAA,SAAAnB,EAAAoB,EAAAC,GACAX,EAAAY,EAAAtB,EAAAoB,IACAG,OAAAC,eAAAxB,EAAAoB,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAX,EAAAkB,EAAA,SAAA3B,GACA,GAAAoB,GAAApB,KAAA4B,WACA,WAA2B,MAAA5B,GAAA,SAC3B,WAAiC,MAAAA,GAEjC,OADAS,GAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAQ,EAAAC,GAAsD,MAAAR,QAAAS,UAAAC,eAAAlB,KAAAe,EAAAC,IAGtDrB,EAAAwB,EAAA,GAGAxB,IAAAyB,EAAA,KDgBM,SAAUlC,EAAQD,GEhFxBC,EAAAD,QAAAE,QAAA,UFsFM,SAAUD,EAAQD,GGtFxBC,EAAAD,QAAAE,QAAA,WH4FM,SAAUD,EAAQD,GI5FxBC,EAAAD,QAAAE,QAAA,YJkGM,SAAUD,EAAQD,EAASU,GAEjC,YAqBA,SAAS0B,GAAuBC,GAAO,MAAOA,IAAOA,EAAIR,WAAaQ,GAAQC,QAASD,GAEvF,QAASE,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAM7B,GAAQ,IAAK6B,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO9B,GAAyB,gBAATA,IAAqC,kBAATA,GAA8B6B,EAAP7B,EAElO,QAAS+B,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIN,WAAU,iEAAoEM,GAAeD,GAASf,UAAYT,OAAO0B,OAAOD,GAAcA,EAAWhB,WAAakB,aAAehC,MAAO6B,EAAUrB,YAAY,EAAOyB,UAAU,EAAM1B,cAAc,KAAeuB,IAAYzB,OAAO6B,eAAiB7B,OAAO6B,eAAeL,EAAUC,GAAcD,EAASM,UAAYL,GAxBjezB,OAAOC,eAAexB,EAAS,cAC7BkB,OAAO,GAGT,IAAIoC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAI5C,GAAI,EAAGA,EAAI4C,EAAMC,OAAQ7C,IAAK,CAAE,GAAI8C,GAAaF,EAAM5C,EAAI8C,GAAWjC,WAAaiC,EAAWjC,aAAc,EAAOiC,EAAWlC,cAAe,EAAU,SAAWkC,KAAYA,EAAWR,UAAW,GAAM5B,OAAOC,eAAegC,EAAQG,EAAWC,IAAKD,IAAiB,MAAO,UAAUlB,EAAaoB,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBd,EAAYT,UAAW6B,GAAiBC,GAAaP,EAAiBd,EAAaqB,GAAqBrB,MK3GhiBsB,EAAArD,EAAA,GL+GIsD,EAAW5B,EAAuB2B,GK9GtCE,EAAAvD,EAAA,GLkHIwD,EAAW9B,EAAuB6B,GKhHtCE,EAAAzD,EAAA,GLoHI0D,EAAUhC,EAAuB+B,GKlH/BE,GAAQ,EAAAD,EAAA9B,SAAM,uBAEdgC,GACJC,GAAI,KACJC,GAAI,UACJC,GAAI,QACJC,GAAI,WACJC,GAAI,eACJC,GAAI,YACJC,GAAI,WAOAC,ELwHmB,SAAUC,GKvHjC,QAAAD,KAAcvC,EAAAlC,KAAAyE,EAAA,IAAAE,GAAArC,EAAAtC,MAAAyE,EAAAzB,WAAA9B,OAAA0D,eAAAH,IAAA/D,KAAAV,MAGZ2E,GAAKE,OAAQ,CAEb,IAAMC,GAAWnB,EAAA1B,QAAK8C,IAAI,cAEpBC,EAAU,GAAIrB,GAAA1B,QAAKgD,cAAcH,EAP3B,OAQZH,GAAKK,QAAUA,EAGfA,EAAQE,GAAG,QAAS,WAClBlB,EAAM,SAENW,EAAKE,OAAQ,IAGfG,EAAQE,GAAG,SAAU,SAACC,GACpBnB,EAAM,SAAUmB,EAEhB,IAAMC,GAAOD,EAAKC,KAAK,EACvB,IAAkB,eAAdA,EAAKrE,MAA2C,QAAlBqE,EAAKC,SAErC,WADArB,GAAM,4BAKR,KAAKmB,EAAKG,IAER,WADAtB,GAAM,yBAIR,IAAMuB,IACJC,KAAML,EAAKK,KACXC,UAAWN,EAAKM,UAChBC,KAAMP,EAAKO,KACXC,SAAUR,EAAKQ,UAGXC,EAAQT,EAAKG,GACnBM,GAAMC,QAAQ,SAACC,GACb,GAAM1B,GAAK0B,EAAKC,MAAM,kBAChBxC,EAAMa,EAAG,GACTvD,EAAQuD,EAAG,GAEXrD,EAAOkD,EAASV,EACjBxC,KAILwE,EAAOxE,GAAQF,KAGjBmD,EAAMuB,GAENZ,EAAKqB,KAAK,SAAUT,KAvDVZ,EL0Md,MAlFAlC,GAAUgC,EAAoBC,GAgE9BzB,EAAawB,IACXlB,IAAK,QACL1C,MAAO,WK9HP,GAAM0B,GAAOvC,IAEb,OAAKA,MAAK6E,OAMVb,EAAM,qBACNhE,MAAKgF,QAAQiB,aANXjC,EAAM,iBACNkC,YAAW,iBAAM3D,GAAK4D,SAAS,UL0I5B1B,GACPZ,EAAS5B,SKlILmE,EAAqB,GAAI3B,ELsI/B9E,GAAQsC,QKpIOmE,ELqIfxG,EAAOD,QAAUA,EAAiB","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"debug\"), require(\"events\"), require(\"mdns-js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"debug\", \"events\", \"mdns-js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"chromecast-discover\"] = factory(require(\"debug\"), require(\"events\"), require(\"mdns-js\"));\n\telse\n\t\troot[\"chromecast-discover\"] = factory(root[\"debug\"], root[\"events\"], root[\"mdns-js\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"debug\"), require(\"events\"), require(\"mdns-js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"debug\", \"events\", \"mdns-js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"chromecast-discover\"] = factory(require(\"debug\"), require(\"events\"), require(\"mdns-js\"));\n\telse\n\t\troot[\"chromecast-discover\"] = factory(root[\"debug\"], root[\"events\"], root[\"mdns-js\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"debug\");\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"events\");\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"mdns-js\");\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _mdnsJs = __webpack_require__(2);\n\nvar _mdnsJs2 = _interopRequireDefault(_mdnsJs);\n\nvar _events = __webpack_require__(1);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _debug = __webpack_require__(0);\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _debug2.default)('chromecast-discover');\n\nvar MAPPINGS = {\n  id: 'id',\n  ve: 'version',\n  md: 'model',\n  ic: 'iconPath',\n  fn: 'friendlyName',\n  st: 'streaming',\n  rs: 'appName'\n};\n\nvar ChromecastDiscover = function (_EventEmitter) {\n  _inherits(ChromecastDiscover, _EventEmitter);\n\n  function ChromecastDiscover() {\n    _classCallCheck(this, ChromecastDiscover);\n\n    var _this = _possibleConstructorReturn(this, (ChromecastDiscover.__proto__ || Object.getPrototypeOf(ChromecastDiscover)).call(this));\n\n    _this.ready = false;\n\n    var mdnsType = _mdnsJs2.default.tcp('googlecast');\n\n    var browser = new _mdnsJs2.default.createBrowser(mdnsType); // eslint-disable-line new-cap\n    _this.browser = browser;\n\n    // Kick off a discovery when we start up\n    browser.on('ready', function () {\n      debug('ready');\n\n      _this.ready = true;\n    });\n\n    browser.on('update', function (data) {\n      debug('update', data);\n\n      var type = data.type[0];\n      if (type.name !== 'googlecast' || type.protocol !== 'tcp') {\n        debug('skipped: not a chromecast');\n        return;\n      }\n\n      // Sometimes the chromecast sends out an unsolicited record\n      if (!data.txt) {\n        debug('skipped: no txt record');\n        return;\n      }\n\n      var device = {\n        host: data.host,\n        addresses: data.addresses,\n        port: data.port,\n        fullname: data.fullname\n      };\n\n      var items = data.txt;\n      items.forEach(function (item) {\n        var md = item.match(/^([^=]+)=(.*)$/);\n        var key = md[1];\n        var value = md[2];\n\n        var name = MAPPINGS[key];\n        if (!name) {\n          return;\n        }\n\n        device[name] = value;\n      });\n\n      debug(device);\n\n      _this.emit('online', device);\n    });\n    return _this;\n  }\n\n  _createClass(ChromecastDiscover, [{\n    key: 'start',\n    value: function start() {\n      var self = this;\n\n      if (!this.ready) {\n        debug('not ready');\n        setTimeout(function () {\n          return self.query();\n        }, 250);\n        return;\n      }\n\n      debug('send discover');\n      this.browser.discover();\n    }\n  }]);\n\n  return ChromecastDiscover;\n}(_events2.default);\n\nvar chromecastDiscover = new ChromecastDiscover();\n\nexports.default = chromecastDiscover;\nmodule.exports = exports['default'];\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 71d00f4d2f4c56e9c574","module.exports = require(\"debug\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"debug\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"events\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"events\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"mdns-js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mdns-js\"\n// module id = 2\n// module chunks = 0","import mdns from 'mdns-js';\nimport EventEmitter from 'events';\n\nimport Debug from 'debug';\n\nconst debug = Debug('chromecast-discover');\n\nconst MAPPINGS = {\n  id: 'id',\n  ve: 'version',\n  md: 'model',\n  ic: 'iconPath',\n  fn: 'friendlyName',\n  st: 'streaming',\n  rs: 'appName',\n  // TODO: We don't know what these are\n  // rm=A390B9102AC7C3A3\n  // ca=4101\n  // bs=FA8FCA3C73B9\n};\n\nclass ChromecastDiscover extends EventEmitter {\n  constructor() {\n    super();\n\n    this.ready = false;\n\n    const mdnsType = mdns.tcp('googlecast');\n\n    const browser = new mdns.createBrowser(mdnsType); // eslint-disable-line new-cap\n    this.browser = browser;\n\n    // Kick off a discovery when we start up\n    browser.on('ready', () => {\n      debug('ready');\n\n      this.ready = true;\n    });\n\n    browser.on('update', (data) => {\n      debug('update', data);\n\n      const type = data.type[0];\n      if (type.name !== 'googlecast' || type.protocol !== 'tcp') {\n        debug('skipped: not a chromecast');\n        return;\n      }\n\n      // Sometimes the chromecast sends out an unsolicited record\n      if (!data.txt) {\n        debug('skipped: no txt record');\n        return;\n      }\n\n      const device = {\n        host: data.host,\n        addresses: data.addresses,\n        port: data.port,\n        fullname: data.fullname,\n      };\n\n      const items = data.txt;\n      items.forEach((item) => {\n        const md = item.match(/^([^=]+)=(.*)$/);\n        const key = md[1];\n        const value = md[2];\n\n        const name = MAPPINGS[key];\n        if (!name) {\n          return;\n        }\n\n        device[name] = value;\n      });\n\n      debug(device);\n\n      this.emit('online', device);\n    });\n  }\n\n  start() {\n    const self = this;\n\n    if (!this.ready) {\n      debug('not ready');\n      setTimeout(() => self.query(), 250);\n      return;\n    }\n\n    debug('send discover');\n    this.browser.discover();\n  }\n}\n\nconst chromecastDiscover = new ChromecastDiscover();\n\nexport default chromecastDiscover;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}